<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brand Factory - Brief de Marca</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 min-h-screen">
    <div class="container mx-auto px-4 py-12 max-w-3xl">
        <header class="text-center mb-12">
            <h1 class="text-4xl font-bold text-white mb-4">üè≠ Brand Factory</h1>
            <p class="text-purple-200 text-lg">Crea tu marca con inteligencia artificial</p>
        </header>

        <form id="brandForm" class="bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20">
            <!-- Secci√≥n 1: Informaci√≥n B√°sica -->
            <div class="mb-8">
                <h2 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                    <span class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-sm">1</span>
                    Informaci√≥n B√°sica
                </h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">Nombre de la marca *</label>
                        <input type="text" name="brand_name" required
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition"
                            placeholder="Ej: Caf√© Origen">
                    </div>
                    
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">Industria/Sector *</label>
                        <input type="text" name="industry" required
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition"
                            placeholder="Ej: Cafeter√≠a especializada, Moda, Tecnolog√≠a, etc.">
                    </div>
                </div>
            </div>

            <!-- Secci√≥n 2: Prop√≥sito -->
            <div class="mb-8">
                <h2 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                    <span class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-sm">2</span>
                    Prop√≥sito
                </h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">Misi√≥n *</label>
                        <textarea name="mission" required rows="2"
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition resize-none"
                            placeholder="¬øPor qu√© existe tu marca? ¬øQu√© problema resuelve?"></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">Visi√≥n</label>
                        <textarea name="vision" rows="2"
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition resize-none"
                            placeholder="¬øD√≥nde quieres estar en 5 a√±os?"></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">Valores de la marca *</label>
                        <input type="text" name="values" required
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition"
                            placeholder="Ej: Calidad, Innovaci√≥n, Sostenibilidad, Comunidad">
                    </div>
                </div>
            </div>

            <!-- Secci√≥n 3: Audiencia -->
            <div class="mb-8">
                <h2 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                    <span class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-sm">3</span>
                    Audiencia
                </h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">P√∫blico objetivo *</label>
                        <textarea name="target_audience" required rows="3"
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition resize-none"
                            placeholder="Describe a tu cliente ideal: edad, g√©nero, ubicaci√≥n, intereses, comportamientos..."></textarea>
                    </div>
                    
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">Competencia</label>
                        <input type="text" name="competitors"
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition"
                            placeholder="Ej: Nike, Adidas, Under Armour">
                    </div>
                </div>
            </div>

            <!-- Secci√≥n 4: Personalidad -->
            <div class="mb-8">
                <h2 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                    <span class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-sm">4</span>
                    Personalidad
                </h2>
                
                <div class="space-y-4">
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">Tono de comunicaci√≥n *</label>
                        <select name="tone" required
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition">
                            <option value="" class="bg-slate-800">Selecciona un tono</option>
                            <option value="profesional y serio" class="bg-slate-800">Profesional y serio</option>
                            <option value="amigable y cercano" class="bg-slate-800">Amigable y cercano</option>
                            <option value="divertido y casual" class="bg-slate-800">Divertido y casual</option>
                            <option value="lujoso y exclusivo" class="bg-slate-800">Lujoso y exclusivo</option>
                            <option value="innovador y disruptivo" class="bg-slate-800">Innovador y disruptivo</option>
                            <option value="c√°lido y emp√°tico" class="bg-slate-800">C√°lido y emp√°tico</option>
                            <option value="minimalista y elegante" class="bg-slate-800">Minimalista y elegante</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">¬øQu√© hace √∫nica a tu marca? *</label>
                        <textarea name="differentiators" required rows="2"
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white placeholder-white/40 focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition resize-none"
                            placeholder="¬øPor qu√© alguien deber√≠a elegirte sobre la competencia?"></textarea>
                    </div>
                </div>
            </div>

            <!-- Secci√≥n 5: Proyecto -->
            <div class="mb-8">
                <h2 class="text-xl font-semibold text-white mb-4 flex items-center gap-2">
                    <span class="w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center text-sm">5</span>
                    Detalles del Proyecto
                </h2>
                
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">Presupuesto</label>
                        <select name="budget"
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition">
                            <option value="< $1,000 USD" class="bg-slate-800">< $1,000 USD</option>
                            <option value="$1,000 - $5,000 USD" class="bg-slate-800">$1,000 - $5,000 USD</option>
                            <option value="$5,000 - $15,000 USD" class="bg-slate-800">$5,000 - $15,000 USD</option>
                            <option value="> $15,000 USD" class="bg-slate-800">> $15,000 USD</option>
                        </select>
                    </div>
                    
                    <div>
                        <label class="block text-purple-200 text-sm font-medium mb-2">Timeline</label>
                        <select name="timeline"
                            class="w-full px-4 py-3 bg-white/5 border border-white/10 rounded-lg text-white focus:border-purple-400 focus:ring-2 focus:ring-purple-400/20 outline-none transition">
                            <option value="1 mes" class="bg-slate-800">1 mes</option>
                            <option value="2 meses" class="bg-slate-800">2 meses</option>
                            <option value="3 meses" class="bg-slate-800">3 meses</option>
                            <option value="Flexible" class="bg-slate-800">Flexible</option>
                        </select>
                    </div>
                </div>
            </div>

            <!-- Submit -->
            <button type="submit" id="submitBtn"
                class="w-full py-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-semibold rounded-lg hover:from-purple-600 hover:to-pink-600 transition-all transform hover:scale-[1.02] shadow-lg shadow-purple-500/25">
                üöÄ Generar Brand Strategy
            </button>
            
            <p class="text-center text-white/40 text-sm mt-4">
                El proceso toma ~30 segundos. Recibir√°s estrategia de marca, identidad visual y plan digital.
            </p>
        </form>

        <!-- Results -->
        <div id="results" class="hidden mt-8 bg-white/10 backdrop-blur-lg rounded-2xl p-8 shadow-2xl border border-white/20">
            <h2 class="text-2xl font-bold text-white mb-6">‚ú® Tu Brand Strategy</h2>
            <pre id="resultsContent" class="text-white/80 text-sm overflow-auto max-h-96 bg-black/20 rounded-lg p-4"></pre>
            <button onclick="downloadResults()" 
                class="mt-4 px-6 py-3 bg-white/10 text-white rounded-lg hover:bg-white/20 transition">
                üì• Descargar JSON
            </button>
        </div>

        <!-- Loading -->
        <div id="loading" class="hidden fixed inset-0 bg-black/80 flex items-center justify-center z-50">
            <div class="text-center">
                <div class="w-16 h-16 border-4 border-purple-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"></div>
                <p class="text-white text-lg">Generando tu brand strategy...</p>
                <p class="text-white/60 text-sm">Esto puede tomar ~30 segundos</p>
            </div>
        </div>
    </div>

    <script>
        const WEBHOOK_URL = 'https://n8n-production-cf6d.up.railway.app/webhook/brand-factory';
        let lastResults = null;

        document.getElementById('brandForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            
            const formData = new FormData(e.target);
            const data = Object.fromEntries(formData.entries());
            
            // Show loading
            document.getElementById('loading').classList.remove('hidden');
            document.getElementById('submitBtn').disabled = true;
            
            try {
                const response = await fetch(WEBHOOK_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                });
                
                lastResults = await response.json();
                
                document.getElementById('resultsContent').textContent = JSON.stringify(lastResults, null, 2);
                document.getElementById('results').classList.remove('hidden');
                
                // Scroll to results
                document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
                
            } catch (error) {
                alert('Error al generar la estrategia. Por favor intenta de nuevo.');
                console.error(error);
            } finally {
                document.getElementById('loading').classList.add('hidden');
                document.getElementById('submitBtn').disabled = false;
            }
        });
        
        function downloadResults() {
            if (!lastResults) return;
            
            const blob = new Blob([JSON.stringify(lastResults, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `brand-strategy-${lastResults.brand_name || 'output'}.json`;
            a.click();
            URL.revokeObjectURL(url);
        }
    </script>
</body>
</html>
